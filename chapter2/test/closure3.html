<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>
    // 변수들을 전역 유효범위에서 볼 수 없게 익명 함수를 사용하는 예

    // 포장용으로 쓸 새 익명 함수를 만든다.
    (function(){
        // 보통이라면 전역 변수로 선언되었을 변수
        var msg = "Thanks for visiting!";

        // 새 함수를 전역 객체에 연결한다.
        window.onbeforeunload = function(){
            // 숨겨진 변수를 사용한다.
            document.body.style.backgroundColor = "red";
            console.log( msg );
        };

    // 익명 함수를 닫은 후 실행한다.
    }());
</script>
</body>
</html>